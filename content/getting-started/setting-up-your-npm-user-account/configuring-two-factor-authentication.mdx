---
title: 2단계 인증 구성하기
---

import shared from '~/shared.js'

[보안 키][webauthn] 또는 모바일 앱의 [시간 기반 일회용 비밀번호(TOTP)][totp]를 사용하여 npm 사용자 계정에서 2단계 인증(2FA)을 활성화하여 계정과 패키지에 대한 무단 접근을 방지할 수 있습니다.

## 전제 조건

npm 사용자 계정에서 2FA를 활성화하기 전에 다음을 수행해야 합니다:

- npm 클라이언트를 버전 5.5.1 이상으로 업데이트하세요.
- 보안 키를 구성하려면 [WebAuthn][can-i-use]을 지원하는 현대적인 브라우저가 필요합니다. 이를 통해 Apple [Touch ID][touch-id], [Face ID][face-id] 또는 [Windows Hello][windows-hello]와 같은 생체 인식 장치와 [Yubikey][yubikey], [Thetis][thetis] 또는 [Feitian][feitian]과 같은 물리적 키를 구성할 수 있습니다.
- TOTP를 구성하려면 모바일 기기에 [Authy][authy], [Google Authenticator][google-authenticator] 또는 [Microsoft Authenticator][microsoft-authenticator]와 같은 OTP를 생성할 수 있는 인증 애플리케이션을 설치해야 합니다.

지원되는 2FA 방법에 대한 자세한 내용은 "[2단계 인증에 대하여][about-two-factor-authentication]"를 참조하세요.

<Note>

**참고:** npm은 SMS(문자 메시지)를 2FA 방법으로 허용하지 않습니다.

</Note>

## 웹사이트에서 2FA 구성하기

### 2FA 활성화하기

1. <>{shared['user-login'].text}</>

   <>{shared['user-login'].image}</>

2. <>{shared['account-settings'].text}</>

   <>{shared['account-settings'].image}</>

3. 계정 설정 페이지의 "2단계 인증" 아래에서 **2FA 활성화**를 클릭합니다.

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/2fa-enable.png" alt="2FA 활성화 버튼을 보여주는 스크린샷" />

4. 메시지가 표시되면 현재 계정 비밀번호를 입력한 다음 **계속하려면 비밀번호 확인**을 클릭합니다.

5. 2FA 방법 페이지에서 활성화하려는 방법을 선택하고 **계속**을 클릭합니다. 지원되는 2FA 방법에 대한 자세한 내용은 "[2단계 인증에 대하여][about-two-factor-authentication]"를 참조하세요.

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/device-selection.png" alt="2FA 유형을 보여주는 스크린샷" />

6. 선택한 2FA 방법을 구성합니다:

   - **보안 키**를 사용할 때는 이름을 지정하고 **보안 키 추가**를 클릭합니다. 브라우저별 단계에 따라 보안 키를 추가합니다.

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/2fa-add-security-key.png" alt="보안 키 설정을 보여주는 스크린샷" />

   - 아래는 MacOS에서 실행 중인 Microsoft Edge의 구성 예시입니다

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/touch-id-mac-edge.png" alt="2FA 장치 선택을 보여주는 스크린샷" />

   - 휴대폰의 **인증 애플리케이션**을 사용할 때는 앱을 열고 2단계 인증 페이지의 QR 코드를 스캔합니다. 앱에서 생성된 코드를 입력한 다음 **확인**을 클릭합니다.

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/2fa-verify.png" alt="2FA 장치 선택을 보여주는 스크린샷" />

7. 복구 코드 페이지에서 복구 코드를 컴퓨터나 2단계 인증 장치가 아닌 다른 안전한 위치에 복사합니다. 비밀번호 관리자를 사용하는 것이 좋습니다.

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/recovery-code.png" alt="복구 코드 페이지를 보여주는 스크린샷" />

   _복구 코드는 2단계 인증 장치에 대한 접근 권한을 잃어버린 경우 계정을 복구할 수 있는 유일한 방법입니다. 각 코드는 한 번만 사용할 수 있습니다. 2FA 설정 페이지에서 [복구 코드를 보고 재생성][viewing-and-regenerating-recovery-code]할 수 있습니다. 보조 계정 복구 옵션은 "[계정 복구 옵션 구성하기][configuring-account-recovery-options]"를 참조하세요._

8. 코드를 저장했다는 것을 확인한 후 **설정으로 돌아가기**를 클릭합니다.

### 쓰기 작업에 대한 2FA 비활성화하기

이 모드가 활성화되었을 때 2FA가 필요한 다양한 작업에 대한 자세한 내용은 [인증 및 쓰기][authorization-and-writes] 섹션을 확인하세요.

<Note>

**참고**: 권장 설정으로, 2FA를 설정할 때 쓰기 작업에 대한 2FA가 *자동으로 활성화*됩니다. 다음 단계에서는 이를 비활성화하는 방법을 설명합니다.

</Note>

1. <>{shared['user-login'].text}</>

   <>{shared['user-login'].image}</>

2. <>{shared['account-settings'].text}</>

   <>{shared['account-settings'].image}</>

3. 계정 설정 페이지의 "2단계 인증" 아래에서 **2FA 수정**을 클릭합니다.

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/2fa-modify.png" alt="2FA 수정 버튼을 보여주는 스크린샷" />

4. "2단계 인증 관리" 페이지에서 "추가 옵션" 섹션으로 이동합니다.

5. "쓰기 작업에 2단계 인증 요구" 체크박스를 해제하고 "기본 설정 업데이트"를 클릭합니다.

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/disable-2fa-button.png" alt="추가 옵션 아래에서 2fa를 비활성화하기 위해 체크박스가 해제된 것을 보여주는 스크린샷" />

### 2FA 비활성화하기

2FA가 활성화된 경우 계정 설정 페이지에서 이를 제거할 수 있습니다.

<Note>

**참고:** 2FA를 강제하는 조직의 구성원인 경우 2FA를 제거할 수 없습니다. 프로필 페이지의 "조직" 탭에서 조직 멤버십 목록을 볼 수 있습니다.

</Note>

1. <>{shared['user-login'].text}</>

   <>{shared['user-login'].image}</>

2. <>{shared['account-settings'].text}</>

   <>{shared['account-settings'].image}</>

3. 계정 설정 페이지의 "2단계 인증" 아래에서 **2FA 수정**을 클릭합니다.

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/2fa-modify.png" alt="2FA 수정 버튼을 보여주는 스크린샷" />

4. "2단계 인증 관리" 페이지 하단으로 스크롤하여 2FA 비활성화를 클릭합니다.

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/2fa-disable.png" alt="2FA 비활성화 버튼을 보여주는 스크린샷" />

5. 브라우저의 프롬프트에 동의합니다.

## 명령줄에서 2FA 구성하기

### 명령줄에서 2FA 활성화하기

WebAuthn을 사용한 보안 키는 웹과 명령줄 모두에서 인증에 사용할 수 있지만 웹에서만 구성할 수 있습니다. 현재 명령줄에서 2FA를 활성화할 때 사용 가능한 유일한 옵션은 TOTP 모바일 앱을 사용하는 것입니다.

<Note>

**참고:** 명령줄에서 구성한 설정은 npm 웹사이트의 프로필 설정에도 적용됩니다.

</Note>

1. 명령줄에서 로그아웃한 경우 `npm login` 명령을 사용하여 로그인합니다.

2. 명령줄에서 [`npm profile`](/cli/profile) 명령과 함께 활성화하려는 2FA 모드에 대한 옵션을 입력합니다:

   - 인증 및 쓰기에 대해 2FA를 활성화하려면 다음을 입력합니다:

     ```
     npm profile enable-2fa auth-and-writes
     ```

   - 인증에만 2FA를 활성화하려면 다음을 입력합니다:

     ```
     npm profile enable-2fa auth-only
     ```

3. npm을 인증 애플리케이션에 추가하려면 앱이 설치된 장치를 사용하여 다음 중 하나를 수행할 수 있습니다:

   - 명령줄에 표시된 QR 코드를 스캔합니다.
   - QR 코드 아래에 표시된 숫자를 입력합니다.

4. 인증기에서 OTP 코드를 추가하라는 메시지가 표시되면 명령줄에 인증기 앱에서 생성된 일회용 비밀번호를 입력합니다.

### 명령줄에서 일회용 비밀번호 보내기

2FA auth-and-writes를 활성화한 경우 특정 명령이 작동하려면 명령줄에서 TOTP를 보내야 합니다. 이를 위해 명령 끝에 `--otp=123456`(여기서 *123456*은 인증기에서 생성된 코드)를 추가합니다. 다음은 몇 가지 예시입니다:

```
npm publish [<tarball>|<folder>][--tag <tag>] --otp=123456
npm owner add <user > --otp=123456
npm owner rm <user> --otp=123456
npm dist-tags add <pkg>@<version> [<tag>] --otp=123456
npm access edit [<package>) --otp=123456
npm unpublish [<@scope>/]<pkg>[@<version>] --otp=123456
```

### 명령줄에서 2FA 제거하기

1. 명령줄에서 로그아웃한 경우 `npm login` 명령을 사용하여 로그인합니다.

2. 명령줄에 다음 명령을 입력합니다:

   ```
   npm profile disable-2fa
   ```

3. 메시지가 표시되면 npm 비밀번호를 입력합니다:

   <Prompt>npm 비밀번호:</Prompt>

4. 일회용 비밀번호를 입력하라는 메시지가 표시되면 인증기 앱에서 비밀번호를 입력합니다:

   <Prompt>인증기에서 일회용 비밀번호를 입력하세요: <strong>123456</strong></Prompt>

## 계정 복구 옵션 구성하기

npm 사용자 계정에서 2FA를 활성화할 때 GitHub 및/또는 Twitter 계정을 npm 사용자 계정에 연결하는 것을 강력히 권장합니다. 2FA 장치와 복구 코드에 대한 접근 권한을 잃어버린 경우, 이러한 연결된 계정을 사용하여 귀하의 신원을 확인하고 npm 계정의 복구를 신속하게 처리할 수 있습니다.

1. <>{shared['user-login'].text}</>

   <>{shared['user-login'].image}</>

2. <>{shared['account-settings'].text}</>

   <>{shared['account-settings'].image}</>

3. [GitHub 계정을 연결][advanced-github-setup]하려면 계정 설정 페이지의 "연결된 계정 및 복구 옵션" 아래에서 **GitHub로 연결**을 클릭합니다.

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/link-github-account.png" alt="GitHub 계정 연결 버튼을 보여주는 스크린샷" />

4. 인증 페이지에서 모든 정보가 올바른지 확인합니다. 그런 다음 **npm 계정 연결 승인**을 클릭합니다.
5. [Twitter 계정을 연결][advanced-twitter-setup]하려면 계정 설정 페이지의 "연결된 계정 및 복구 옵션" 아래에서 **Twitter로 연결**을 클릭합니다.

   <Screenshot src="/getting-started/setting-up-your-npm-user-account/link-twitter-account.png" alt="Twitter 계정 연결 버튼을 보여주는 스크린샷" />

6. 인증 페이지에서 모든 정보가 올바른지 확인합니다. 그런 다음 **앱 승인**을 클릭합니다.

Twitter 또는 GitHub 계정이 이제 npm 계정에 연결되었습니다. 어느 계정에 대한 연결을 제거하려면 npm 계정에서 제거하려는 계정 옆의 **제거** 버튼을 클릭할 수 있습니다.

## TOTP 오류 해결하기

유효해 보이는 [TOTP][totp]를 입력했지만 오류가 발생하는 경우, 올바른 인증기 계정을 사용하고 있는지 확인하세요. 여러 개의 인증기 계정이 있는 경우 잘못된 계정의 TOTP를 사용하면 오류가 발생합니다.

또한, 비활성화된 후 2단계 인증을 재설정할 때 인증기가 같은 이름으로 두 번째 계정을 생성할 수 있습니다. 이전 계정을 삭제하려면 인증기 문서를 참조하세요.

[about-two-factor-authentication]: /about-two-factor-authentication
[authorization-and-writes]: /about-two-factor-authentication#authorization-and-writes
[login]: /cli/adduser
[recovering-your-2fa-enabled-account]: /recovering-your-2fa-enabled-account
[can-i-use]: https://caniuse.com/#search=webauthn
[viewing-and-regenerating-recovery-code]: /recovering-your-2fa-enabled-account#viewing-and-regenerating-recovery-code
[totp]: https://en.wikipedia.org/wiki/Time-based_one-time_password
[authy]: https://authy.com/download/
[google-authenticator]: https://support.google.com/accounts/answer/1066447
[microsoft-authenticator]: https://www.microsoft.com/security/mobile-authenticator-app
[webauthn]: https://webauthn.guide/
[u2f]: https://en.wikipedia.org/wiki/Universal_2nd_Factor
[windows-hello]: https://support.microsoft.com/en-us/windows/learn-about-windows-hello-and-set-it-up-dae28983-8242-bb2a-d3d1-87c9d265a5f0
[touch-id]: https://support.apple.com/en-gb/HT204587
[face-id]: https://support.apple.com/en-us/HT208108
[yubikey]: https://www.yubico.com/
[thetis]: https://thetis.io/
[feitian]: https://www.ftsafe.com/
[configuring-account-recovery-options]: /configuring-two-factor-authentication#configuring-account-recovery-options
[advanced-github-setup]: managing-your-profile-settings#linking-your-npm-and-github-accounts
[advanced-twitter-setup]: /managing-your-profile-settings#linking-your-npm-and-twitter-accounts
